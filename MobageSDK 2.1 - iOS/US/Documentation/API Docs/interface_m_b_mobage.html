<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Mobage Native SDK for iOS: MBMobage Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">Mobage Native SDK for iOS
   &#160;<span id="projectnumber">1.5</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<div class="title">MBMobage Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Initialize the Mobage service, and report app lifecycle events.  
 <a href="interface_m_b_mobage.html#details">More...</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae6f668fe990810ad2bc43330533f5de1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_b_mobage.html#ae6f668fe990810ad2bc43330533f5de1">onPause</a></td></tr>
<tr class="memdesc:ae6f668fe990810ad2bc43330533f5de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report an app pause event to the analytics service.  <a href="#ae6f668fe990810ad2bc43330533f5de1"></a><br/></td></tr>
<tr class="memitem:a4d9c6dbd6700f393b917562b3bedcdda"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_b_mobage.html#a4d9c6dbd6700f393b917562b3bedcdda">onResume</a></td></tr>
<tr class="memdesc:a4d9c6dbd6700f393b917562b3bedcdda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report an app resume event to the analytics service.  <a href="#a4d9c6dbd6700f393b917562b3bedcdda"></a><br/></td></tr>
<tr class="memitem:a44db16490597b4b380e797e007d82a0c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_b_mobage.html#a44db16490597b4b380e797e007d82a0c">onStop</a></td></tr>
<tr class="memdesc:a44db16490597b4b380e797e007d82a0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report an app stop event to the analytics service.  <a href="#a44db16490597b4b380e797e007d82a0c"></a><br/></td></tr>
<tr class="memitem:a3117e4b5b9809cb87618d86fa5dc1dda"><td class="memItemLeft" align="right" valign="top">(NSString *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_m_b_mobage.html#a3117e4b5b9809cb87618d86fa5dc1dda">getSDKVersion</a></td></tr>
<tr class="memdesc:a3117e4b5b9809cb87618d86fa5dc1dda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the Native SDK's version number, in the format <code>Major.Minor.Hotfix.Patch</code> (for example, <code>2.0.1.0</code>).  <a href="#a3117e4b5b9809cb87618d86fa5dc1dda"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a687ecddf3093fdeb9b02c2913ad52b0d"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_m_b_mobage.html">MBMobage</a> *)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_m_b_mobage.html#a687ecddf3093fdeb9b02c2913ad52b0d">sharedInstance</a></td></tr>
<tr class="memdesc:a687ecddf3093fdeb9b02c2913ad52b0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the current instance of the Mobage service.  <a href="#a687ecddf3093fdeb9b02c2913ad52b0d"></a><br/></td></tr>
<tr class="memitem:a61afd6a720c7a06e5c633f4e476462a8"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_m_b_mobage.html#a61afd6a720c7a06e5c633f4e476462a8">initializeMobageWithServerEnvironment:appId:appVersion:consumerKey:consumerSecret:</a></td></tr>
<tr class="memdesc:a61afd6a720c7a06e5c633f4e476462a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Mobage service.  <a href="#a61afd6a720c7a06e5c633f4e476462a8"></a><br/></td></tr>
<tr class="memitem:a4be0ae45bf24f5dd91c25e81174270ac"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">+ <a class="el" href="interface_m_b_mobage.html#a4be0ae45bf24f5dd91c25e81174270ac">loginWithExistingSessionWithCallbackQueue:onSuccess:onError:</a></td></tr>
<tr class="memdesc:a4be0ae45bf24f5dd91c25e81174270ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to reestablish a session for the most recent user.  <a href="#a4be0ae45bf24f5dd91c25e81174270ac"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr class="memitem:a2b5e66a8a7ded4388cab0bb02c554c78"><td class="memItemLeft" align="right" valign="top">NSObject&lt; <a class="el" href="protocol_m_b_event_reporter-p.html">MBEventReporter</a> &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_b_mobage.html#a2b5e66a8a7ded4388cab0bb02c554c78">analyticsEventReporter</a></td></tr>
<tr class="memdesc:a2b5e66a8a7ded4388cab0bb02c554c78"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the analytics event reporter.  <a href="#a2b5e66a8a7ded4388cab0bb02c554c78"></a><br/></td></tr>
<tr class="memitem:a3b63799890b821a92d646c3ab2f1df2e"><td class="memItemLeft" align="right" valign="top">NSData *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_m_b_mobage.html#a3b63799890b821a92d646c3ab2f1df2e">deviceToken</a></td></tr>
<tr class="memdesc:a3b63799890b821a92d646c3ab2f1df2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the device token.  <a href="#a3b63799890b821a92d646c3ab2f1df2e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Initialize the Mobage service, and report app lifecycle events. </p>
<p>Your app is required to call one of this class' methods when the following changes occur to the app's lifecycle: </p>
<ul>
<li>
<b>The app starts</b>: Call <code>MBMobage::initializeWithServerEnvironment:andWithAppId:andWithAppVersion:andWithConsumerKey:andWithConsumerSecret:</code>.  </li>
<li>
<b>The app is paused</b>: Call <code><a class="el" href="interface_m_b_mobage.html#ae6f668fe990810ad2bc43330533f5de1" title="Report an app pause event to the analytics service.">onPause (MBMobage)</a></code>. </li>
<li>
<b>The app is resumed</b>: Call <code><a class="el" href="interface_m_b_mobage.html#a4d9c6dbd6700f393b917562b3bedcdda" title="Report an app resume event to the analytics service.">onResume (MBMobage)</a></code>. </li>
<li>
<b>The app is stopped</b>: Call <code><a class="el" href="interface_m_b_mobage.html#a44db16490597b4b380e797e007d82a0c" title="Report an app stop event to the analytics service.">onStop (MBMobage)</a></code>. </li>
</ul>
<p>Each of these methods reports a lifecycle event to the Mobage analytics service. By consistently reporting these lifecycle events, you will ensure that the analytics service can provide accurate usage statistics, such as the number of daily active users (DAUs). </p>
<p><b>Important</b>: If your app does not use these methods correctly, it will be rejected by Mobage's app review process. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>
</div><hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a3117e4b5b9809cb87618d86fa5dc1dda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *) <a class="el" href="interface_m_b_mobage.html#a3117e4b5b9809cb87618d86fa5dc1dda">getSDKVersion</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="section return"><dt>Returns:</dt><dd>The Native SDK's version number. </dd></dl>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a61afd6a720c7a06e5c633f4e476462a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) initializeMobageWithServerEnvironment: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="_m_b_mobage_8h.html#a9d34403e85238b380bbb40112cbdb7b8">MBServerEnvironment</a>)&#160;</td>
          <td class="paramname"><em>serverEnvironment</em></td>
        </tr>
        <tr>
          <td class="paramkey">appId:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>appId</em></td>
        </tr>
        <tr>
          <td class="paramkey">appVersion:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>appVersion</em></td>
        </tr>
        <tr>
          <td class="paramkey">consumerKey:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>consumerKey</em></td>
        </tr>
        <tr>
          <td class="paramkey">consumerSecret:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>consumerSecret</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initialize the Mobage service, and report a Mobage analytics event indicating that the app has started. Call this method immediately after your app starts. </p>
<p><b>Important</b>: Call this method only once. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">serverEnvironment</td><td>Indicates whether to connect to Mobage's sandbox or production environment. </td></tr>
    <tr><td class="paramname">appId</td><td>The app ID, also known as the "app key." Generated by the <a href="https://developer.mobage.com/">Mobage Developer Portal</a>. </td></tr>
    <tr><td class="paramname">appVersion</td><td>The app version. </td></tr>
    <tr><td class="paramname">consumerKey</td><td>The app's OAuth key for accessing the Mobage service. Generated by the <a href="https://developer.mobage.com/">Mobage Developer Portal</a>. </td></tr>
    <tr><td class="paramname">consumerSecret</td><td>The app's OAuth secret for accessing the Mobage service. Generated by the <a href="https://developer.mobage.com/">Mobage Developer Portal</a>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a4be0ae45bf24f5dd91c25e81174270ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (void) loginWithExistingSessionWithCallbackQueue: </td>
          <td></td>
          <td class="paramtype">(dispatch_queue_t)&#160;</td>
          <td class="paramname"><em>cbQueue</em></td>
        </tr>
        <tr>
          <td class="paramkey">onSuccess:</td>
          <td></td>
          <td class="paramtype">(BOOL sessionEstablished)&#160;</td>
          <td class="paramname"><em>successCB</em></td>
        </tr>
        <tr>
          <td class="paramkey">onError:</td>
          <td></td>
          <td class="paramtype">(MBError *error)&#160;</td>
          <td class="paramname"><em>errorCB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Attempt to reestablish a session for the most recent user. The user will not be prompted for a username and password. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">cbQueue</td><td>The dispatch queue for the callback. </td></tr>
    <tr><td class="paramname">successCB</td><td>Called if the session is successfully reestablished. The <code>sessionEstablished</code> parameter indicates whether the session was successfully reestablished. </td></tr>
    <tr><td class="paramname">errorCB</td><td>Called if an error occurs while reestablishing the session. The <code>error</code> parameter contains information about the error. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="ae6f668fe990810ad2bc43330533f5de1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_m_b_mobage.html#ae6f668fe990810ad2bc43330533f5de1">onPause</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Report an app pause event to the analytics service. Your app must call this method whenever it is paused. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a4d9c6dbd6700f393b917562b3bedcdda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_m_b_mobage.html#a4d9c6dbd6700f393b917562b3bedcdda">onResume</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Report an app resume event to the analytics service. Your app must call this method whenever it is resumed. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a44db16490597b4b380e797e007d82a0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) <a class="el" href="interface_m_b_mobage.html#a44db16490597b4b380e797e007d82a0c">onStop</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Report an app stop event to the analytics service. Your app must call this method whenever it is stopped. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a687ecddf3093fdeb9b02c2913ad52b0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">+ (<a class="el" href="interface_m_b_mobage.html">MBMobage</a>*) <a class="el" href="interface_m_b_mobage.html#a687ecddf3093fdeb9b02c2913ad52b0d">sharedInstance</a> </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the current instance of the Mobage service. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="a2b5e66a8a7ded4388cab0bb02c554c78"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSObject&lt;<a class="el" href="protocol_m_b_event_reporter-p.html">MBEventReporter</a>&gt;*) <a class="el" href="interface_m_b_mobage.html#a2b5e66a8a7ded4388cab0bb02c554c78">analyticsEventReporter</a><code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the analytics event reporter, which enables your app to report Mobage analytics events. </p>
<dl class="section since"><dt>Since:</dt><dd>1.5 </dd></dl>

</div>
</div>
<a class="anchor" id="a3b63799890b821a92d646c3ab2f1df2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (NSData*) <a class="el" href="interface_m_b_mobage.html#a3b63799890b821a92d646c3ab2f1df2e">deviceToken</a><code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Retrieve the device token, which register the device token to Mobage remote notification server </p>
<dl class="section since"><dt>Since:</dt><dd>2.0 </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/>

</body>
</html>
